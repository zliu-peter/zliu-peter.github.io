{
  "hash": "1ca3dca54716af0bfa3d56cbf9134af1",
  "result": {
    "markdown": "---\ntitle: \"Example Analysis\"\nauthor: \n  - name: Zixing (Peter) Liu\ndate: 2023-11-10\nbibliography: Reference.bib\ncsl: nature.csl\ndescription: An example analysis with Board Game Data\ncategories: [JHSPH]\nknitr: true\neditor: visual\n---\n\n\n\n\n::: {layout-ncol=\"2\"}\n![](images/tidytuesday.jpg)\n\n![The dataset was posted on [tidytuesday](https://github.com/rfordatascience/tidytuesday/tree/master/data/2022/2022-01-25), from [Kaggle](https://www.kaggle.com/jvanelteren/boardgamegeek-reviews/version/3?select=2022-01-08.csv) and [Board Games Geek](https://www.boardgamegeek.com/), thanks to [David and Georgios](https://github.com/rfordatascience/tidytuesday/issues/382#issuecomment-1020305849).](images/heading_pic.png)\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!file.exists(here(\"data\", \"ratings.RDS\", \"details.RDS\"))) {\n    ratings <- readr::read_csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-01-25/ratings.csv\")\n    details <- readr::read_csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-01-25/details.csv\")\n\n    # save the files to RDS objects\n    saveRDS(ratings, file = here(\"data\", \"ratings.RDS\"))\n    saveRDS(details, file = here(\"data\", \"details.RDS\"))\n}\n\nratings = readRDS(here(\"data\", \"ratings.RDS\"))\ndetails = readRDS(here(\"data\", \"details.RDS\"))\n```\n:::\n\n\n# Background\n\nThe board game market size has been growing and projected to increase continuously as demonstrated on the figure below[@Technavio2023], thereby offering an opportunity for making interesting queries.\n\n![Fig 1: Board game market growth projection](images/market.jpg){#fig:market width=\"500px\" fig-cap=\"Fig 1: Board game market size outlook\"}\n\n# Project Aims\n\nIn this example analysis, I am investigating patterns within the board game dataset, which contains various details on board game user ratings, designers, published year, number of people owning the game, etc. I focused on games developed since the 1990s. Specifically, I seek to answer the following questions:\n\n-   Who are some of the best board game designers since the 1990s?\n    -   Who are very prolific?\n    -   When are they active?\n    -   Do they have good ratings? Are ratings consistent over time?\n    -   What game categories are these prolific designers associated with?\n-   What games are the most owned since the 1990s?\n    -   What are the top board game categories since the 1990s?\n        -   Is there any trends?\n    -   What are the top board game mechanics over the years?\n        -   Is there any trends?\n\n# Intended Audience\n\nThis analysis is intended for the general public, as well as those who are interested in board games.\n\n# Data Source\n\nThe data source is tidytuesday, as described above. [Click here for more details.](https://github.com/rfordatascience/tidytuesday/tree/master/data/2022/2022-01-25)[@datsource]\n\nThere are two datasets, one containing general info about game name, id, and rating while the other including more comprehensive details on board game designer, artist, description, category, mechanic, published year, rating, etc. [Click here for the data dictionary.](https://github.com/rfordatascience/tidytuesday/tree/master/data/2022/2022-01-25#data-dictionary)\n\n# Analysis\n\n## Board Game Designer Analysis\n\nIn this section, I conducted analysis on and highlighted some of the most brilliant board game designers since the 1990s.\n\n::: {.callout-important title=\"Analysis Background\"}\nThe analysis excluded games published before 1990 and those with fewer than 50 user ratings. Games with unknown or uncredited designers were also removed from the analysis.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Data cleaning & Wrangling\ngames <- details %>%\n  dplyr::select(-num) %>%\n  dplyr::left_join(ratings %>% dplyr::select(c(\"id\",\"average\",\"users_rated\")), by=\"id\") %>%\n  dplyr::filter(users_rated>=50 & yearpublished>=1990) %>%\n  dplyr::mutate(decades = case_when(\n    between(yearpublished, 1990, 1999) ~ \"1990s\",\n    between(yearpublished, 2000, 2009) ~ \"2000s\",\n    between(yearpublished, 2010, 2019) ~ \"2010s\",\n    yearpublished > 2019 ~ \"2020s\")) %>%\n  dplyr::rename_with(~stringr::str_replace_all(., \"boardgame\", \"\")) %>%\n  dplyr::select(-c(\"family\",\"expansion\",\"implementation\",\"artist\",\"publisher\"))\n\nrm_brackets <- function(x){\n  {gsub(\"\\\\[|\\\\]\", \"\", x)} %>%\n  str_replace_all(., \", '\", \";'\") %>%\n  str_replace_all(., \", \\\"\", \";'\") %>%\n  str_replace_all(., \"\\\"\", \"'\")\n}\n\ngames %<>% dplyr::mutate(across(category:designer, rm_brackets))\n\ngames_designer <- games %>%\n  separate_rows(designer, sep = \";\\\\s*\") %>%\n  dplyr::group_by(decades, designer) %>%\n  dplyr::summarise(count=n(), score=mean(average)) %>%\n  dplyr::filter(!is.na(designer)) %>%\n  dplyr::filter(designer!=\"'(Uncredited)'\") %>%\n  dplyr::arrange(desc(count), desc(score)) %>%\n  dplyr::slice_head(n=5) %>%\n  dplyr::ungroup() %>%\n  dplyr::mutate(designer=gsub(\"'\",\"\",designer)) %>%\n  dplyr::group_by(designer) %>%\n  dplyr::mutate(total_count=sum(count)) %>%\n  dplyr::ungroup()\n```\n:::\n\n\n**Who are prolific board game designers?**\n\nTo identify those who are one of the best designers, let's first explore the number of games they developed in each decade since the 1990.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx = ggplot(games_designer %>%\n    dplyr::mutate(decades=factor(decades, levels=rev(unique(decades)))), aes(x=fct_reorder(designer, total_count), y=count, fill=decades)) +\n    geom_bar(stat=\"identity\", position=\"stack\") +\n    coord_flip() +\n    labs(title = \"Prolific Game Designers since 1990s\",\n         x = \"Designer\",\n         y = \"# of Board Games Developed\",\n         subtitle = \"Reiner Knizia is the most prolific game designer since the 1990s, totaling 300+ games.\",\n         caption = \"Games with <50 reviews excluded.\"\n         ) +\n    theme_bw() +\n    theme(legend.text = element_text(size=12),\n          legend.title = element_text(size=14),\n          plot.title = element_text(size=19, face=\"bold\"),\n          plot.subtitle = element_text(size=12),\n          plot.caption = element_text(size=9, face=\"bold\"),\n          axis.title = element_text(size=14, face=\"bold\"),\n          axis.text = element_text(size=10)) +\n     guides(fill=guide_legend(title=\"Decades\")) +\n    scale_fill_brewer(palette=\"Set2\")\n\nx\n```\n\n::: {.cell-output-display}\n![Fig 2. Prolific game designers by the number of games designed since the 1990.](analysis_files/figure-html/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n\nClearly, we see that Reiner Knizia absolutely dominated in quantity of games developed, with his peak active years in the 2000s and 2010s. Some other creative game designers who designed many games are (1) Wolfgang Kramer, who were mostly active in the 1990s and 2000s; (2) Martin Wallace, Matt Hyra, Eric M. Lang who became more prolific in the 2010s; and (3) Prospero Hall who emerged in the 2020s.\n\n::: callout-tip\nThe lower number of games developed in the 2020s are partially due to a lack of data collected in recent years.\n:::\n\nNext, I take a closer look at both the amount of games and rating stratified by each decade. The rating are depicted by the color gradient while the bars represent the number of games developed.\n\nWe see some aforementioned familiar names appear, meaning that those who were one of the most prolific designers were typically quite active for over 30 years. For instance, Reiner Knizia topped the charts in three decades since the 1990s. Based on the color gradient, his rating seemed to suffer a bit in the 2000s but recovered in 2010s. Overall, these designers are usually both prolific and critically acclaimed by users.\n\n::: callout-note\nThe game rating was averaged for all the games developed by that designer in the corresponding decades.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# While Reiner dominated when looking at each decade separately (average rating for each dacade instead of for all the decades combined). The sheer amount of games he produced might have lower his mean rating, but it is still a quite impressive rating.\n\nggplot(games_designer, aes(x=tidytext::reorder_within(designer, count, decades), y=count, fill=score)) +\n  geom_col() +\n  tidytext::scale_x_reordered()+\n  scale_fill_gradient(low=\"#96E9FF\", high=\"#0354AF\")+\n  coord_flip() +\n  labs(title=\"Top 5 Most Prolific Game Designer in Each Decade\",\n       x=\"Board Game Designer\",\n       y=\"# of Games Designed in This Decade\",\n       subtitle=\"1. Reiner Knizia has dominated the board game markets for almost 30 years, \\nboth with the amount and with acceptable rating of games. \\n2. Prospero Hall emerges in the 2020s, taking the lead with 28 new games produced.\",\n       caption=\"Games with <50 reviews excluded.\n                \\nLegend represents mean game rating for each decade.\") +\n  facet_wrap(~decades, scales = \"free\", ncol = 2) +\n  theme_classic() +\n  theme(legend.text = element_text(size=12),\n        legend.title = element_text(size=14),\n        plot.title = element_text(size=19, face=\"bold\"),\n        plot.subtitle = element_text(size=12),\n        plot.caption = element_text(size=9, face=\"bold\"),\n        axis.title = element_text(size=14, face=\"bold\"),\n        axis.text = element_text(size=10)) +\n   guides(fill=guide_legend(title=\"Mean Rating\"))\n```\n\n::: {.cell-output-display}\n![Fig 3. Top 5 prolific game designers in each decade.](analysis_files/figure-html/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n**How are their games' ratings?**\n\nWe have a glimpse at the ratings from Fig 3 through the filled color. To directly observe the user ratings of games, we plot the rating distribution of top 10 most prolific game designers spanning over 30 years. Here, \"top 10 most prolific\" is defined as having the top 10 highest number of games developed during 1990 to 2023.\n\n::: callout-caution\nIt is not necessarily the best to identify brilliant game designers solely through their user ratings, since they are heavily dependent on the number of ratings/games available.\n:::\n\n\n::: {.cell .column-margin}\n\n```{.r .cell-code}\ntop10_rated_designers <- games %>%\n  separate_rows(designer, sep = \";\\\\s*\") %>%\n  dplyr::group_by(designer) %>%\n  dplyr::summarise(`Avg Rating`=mean(average), `# Game`=n()) %>%\n  dplyr::ungroup() %>%\n  dplyr::mutate(designer=gsub(\"'\",\"\",designer)) %>%\n  dplyr::filter(!is.na(designer)) %>%\n  dplyr::filter(designer!=\"'(Uncredited)'\") %>%\n  dplyr::arrange(desc(`Avg Rating`)) %>%\n  dplyr::slice_head(n=5) %>%\n  dplyr::rename(Designer=designer)\n\nkable(top10_rated_designers, format=\"html\",\n      caption=\"Highest Rated Designers\") %>%\n  row_spec(0, bold=TRUE) %>%\n  column_spec(3, bold=TRUE, color=\"red\") %>%\n  kable_classic_2(html_font=\"Garamond\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic-2\" style=\"font-family: Garamond; margin-left: auto; margin-right: auto;\">\n<caption>Highest Rated Designers</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;font-weight: bold;\"> Designer </th>\n   <th style=\"text-align:right;font-weight: bold;\"> Avg Rating </th>\n   <th style=\"text-align:right;font-weight: bold;\"> # Game </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Gener Escalante Hernandez </td>\n   <td style=\"text-align:right;\"> 9.43 </td>\n   <td style=\"text-align:right;font-weight: bold;color: red !important;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Florian Dumont </td>\n   <td style=\"text-align:right;\"> 9.36 </td>\n   <td style=\"text-align:right;font-weight: bold;color: red !important;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Gabriele Porro </td>\n   <td style=\"text-align:right;\"> 9.09 </td>\n   <td style=\"text-align:right;font-weight: bold;color: red !important;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Carly Shields </td>\n   <td style=\"text-align:right;\"> 9.04 </td>\n   <td style=\"text-align:right;font-weight: bold;color: red !important;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Michael DiMauro </td>\n   <td style=\"text-align:right;\"> 9.04 </td>\n   <td style=\"text-align:right;font-weight: bold;color: red !important;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nAs we see, the top 5 highest rated designers only developed less than 5 games. Thus, here we focus our attention on the ratings of prolific designers who have adequate number of ratings for more robust comparison.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_designer <- games_designer %>% \n  dplyr::arrange(desc(total_count)) %>% \n  dplyr::select(designer) %>%\n  dplyr::distinct() %>%\n  dplyr::slice_head(n=10)\n\n\ngames_rating <- games %>%\n  tidyr::separate_rows(designer, sep=\";\\\\s*\") %>%\n  dplyr::mutate(category=gsub(\"\\\"\", \"\",category)) %>%\n  tidyr::separate_rows(category, sep=\";\\\\s*\") %>%\n  dplyr::filter(!is.na(designer)) %>%\n  dplyr::filter(designer!=\"'(Uncredited)'\") %>%\n  dplyr::filter(gsub(\"'\",\"\",designer) %in% top_designer$designer) %>%\n  dplyr::select(id, primary, yearpublished, category, designer, average, decades) %>%\n  dplyr::mutate(across(category:designer, ~ gsub(\"'\", \"\", .))) %>%\n  dplyr::mutate(designer=factor(designer, levels=top_designer$designer))\n\n\nx <- ggplot(games_rating, aes(x=designer, y=average)) +\n  stat_boxplot(geom='errorbar', linetype=1, width=0.5) +\n  geom_boxplot(outlier.shape=1) +\n  # dot for mean\n  stat_summary(fun=mean, geom=\"point\", size=2) +\n  labs(title=\"Distribution of Ratings of Games by Designers since the 1990s\",\n       x=\"Top 10 Most Prolific Board Game Designers\",\n       y=\"Users' Rating of Games since the 1990s\",\n       subtitle=\"1. Dean Essig, Eric M. Lang, & Martin Wallace have the top 3 best mean/median game ratings.  \\n2. Reiner Knizia's rating was likely negatively impacted by some of his lower-rated games \\n   since he is so prolific.\",\n       caption=\"Games with <50 reviews excluded.\n                \\nBlack solid point represents the mean game rating from 1990s-2020s.\") +\n  theme_classic() +\n  theme(legend.text = element_text(size=12),\n        legend.title = element_text(size=14),\n        plot.title = element_text(size=17, face=\"bold\"),\n        plot.subtitle = element_text(size=14),\n        plot.caption = element_text(size=10, face=\"bold\"),\n        axis.title = element_text(size=15, face=\"bold\"),\n        axis.text.y = element_text(size=12),\n        axis.text.x = element_text(size=12, angle=45, vjust=0.5))\n\nx\n```\n\n::: {.cell-output-display}\n![Fig 4. Rating distribution of games designed by prolific game designers (top 10 by quantity of games).](analysis_files/figure-html/unnamed-chunk-7-1.png){width=864}\n:::\n:::\n\n\n**Are their ratings consistent over time?**\n\nThe previous figure, Fig 4, shows the aggregate rating distribution from 1990s to 2020s. What if we look at the ratings over time. Are these designers consistent in each year for the games they produced?\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngames_rating_2 <- games_rating %>%\n  dplyr::group_by(designer, yearpublished) %>%\n  # This mean is the mean of user's rating for all games in a specific year!\n  dplyr::mutate(mean_by_year=mean(average))\n\nggplot(games_rating_2, aes(x=yearpublished, y=mean_by_year)) +\n  geom_point() +\n  geom_smooth(se=TRUE) +\n  facet_wrap(vars(designer), ncol=5, scales=\"free_y\") + \n  labs(title = \"Game Rating over Time since the 1990s\",\n       x = \"Years\",\n       y = \"Average Rating for All Games in Each Year\",\n       caption = \"Game rating was averaged for each year.\",\n       subtitle = \"1. For most designers shown, they experienced a drop in rating between 2000 and 2010. \\n2. There is a positive trend for almost all designers in recent years.\") +\n  theme_classic() +\n  theme(plot.title = element_text(size=24, face=\"bold\"),\n        plot.subtitle = element_text(size=16),\n        plot.caption = element_text(size=12, face=\"bold\"),\n        axis.title.x = element_text(size=18, face=\"bold\"),\n        axis.title.y = element_text(size=18, face=\"bold\"),\n        axis.text = element_text(size=15),\n        strip.text = element_text(size=14, face=\"bold\", color=\"red\"))\n```\n\n::: {.cell-output-display}\n![Fig 5. Rating over time for top designers.](analysis_files/figure-html/unnamed-chunk-8-1.png){width=1536}\n:::\n:::\n\n\nEvaluated by the game ratings, these games that the prolific designers produced seem to be favored by the users, as they are fairly consistent. Especially in recent years, we see an upward trend in game ratings for most of the designers shown here.\n\n**Top game categories by prolific game designers**\n\nLet's take a look at the designers who have fast-growing rating trends and shift gears to investigate what game categories with which they mostly associated. Specifically, we look at Reiner Knizia, Dean Essig, Eric M. Lang, & Martin Wallace.\n\n::: callout-warning\nGame category quantity does NOT equal the number of unique games. There are games that are associated with multiple game categories.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndesigner_lst <- c(\"Dean Essig\", \"Eric M. Lang\", \"Martin Wallace\", \"Reiner Knizia\")\ngames_rating_pie <- games_rating_2 %>%\n  dplyr::filter(designer %in% designer_lst) %>%\n  dplyr::group_by(designer, category) %>%\n  dplyr::summarise(quantity=n()) %>%\n  dplyr::arrange(designer, desc(quantity)) %>%\n  dplyr::ungroup()\n\ntop_categories <- games_rating_pie %>%\n  dplyr::group_by(designer) %>%\n  dplyr::slice_head(n=3) %>%\n  dplyr::mutate(norm_quant=quantity/sum(quantity)) %>%\n  dplyr::ungroup()\n\n\n# output this other category on the margin!\nothers_categories <- games_rating_pie %>%\n  dplyr::anti_join(top_categories, by=c(\"designer\", \"category\")) %>%\n  dplyr::group_by(designer) %>%\n  dplyr::summarise(quantity = sum(quantity), category=\"Others\")\n\nmy_palette <- c(\"#0073FF\", \"#DBD4D4\", \"#7AC4F7\", \"#117799\", \"#A52A2A\", \"#D8BFD8\", \"#FF6347\", \"#FFE4C4\", \"#FFA07B\", \"#A4918C\")\n\n\n# Create a faceted pie chart\nggplot(top_categories , aes(x=\"\", y=norm_quant, fill=category)) +\n  geom_bar(stat=\"identity\", width=1, color=\"white\") +\n  scale_fill_manual(values = my_palette) +\n  coord_polar(\"y\") +\n  facet_wrap(~ designer) +\n  theme_void() +\n  theme(legend.position = \"right\") +\n  labs(title = \"Top 3 Most Frequent Categories for Designers\",\n       fill = \"Category\",\n       subtitle = \"A closer look at top game categories for Reiner Knizia, Dean Essig,\\nEric M. Lang, & Martin Wallace.\",\n       caption = \"The rest of the categories are characterized as 'Others' & not shown here.\") +\n  theme(plot.title = element_text(size=20, face=\"bold\"),\n        plot.subtitle = element_text(size=14),\n        plot.caption = element_text(size=12, face=\"bold\"),\n        strip.text = element_text(size=10, face=\"bold\"))\n```\n\n::: {.cell-output-display}\n![Fig 6. Top three game categories associated with top game designers.](analysis_files/figure-html/unnamed-chunk-9-1.png){width=864}\n:::\n:::\n\n::: {.cell .column-margin}\n\n```{.r .cell-code}\ncolnames(others_categories) <- c(\"Designer\", \"Quantity\", \"Game Category\")\nkable(others_categories, format=\"html\",\n      caption=\"Number of 'Others' Category\") %>%\n  row_spec(0, bold=TRUE) %>%\n  kable_classic_2(html_font=\"Garamond\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic-2\" style=\"font-family: Garamond; margin-left: auto; margin-right: auto;\">\n<caption>Number of 'Others' Category</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;font-weight: bold;\"> Designer </th>\n   <th style=\"text-align:right;font-weight: bold;\"> Quantity </th>\n   <th style=\"text-align:left;font-weight: bold;\"> Game Category </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Reiner Knizia </td>\n   <td style=\"text-align:right;\"> 447 </td>\n   <td style=\"text-align:left;\"> Others </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Martin Wallace </td>\n   <td style=\"text-align:right;\"> 216 </td>\n   <td style=\"text-align:left;\"> Others </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Eric M. Lang </td>\n   <td style=\"text-align:right;\"> 155 </td>\n   <td style=\"text-align:left;\"> Others </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Dean Essig </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:left;\"> Others </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nNote that I only showed the top three categories and the rest are characterized as 'Others' (Details in the margin).\n\nThe details for top three categories are displayed in the table below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(top_categories) <- c(\"Designer\", \"Game Category\", \"Quantity\", \"norm_quant\")\nkable(top_categories %>% select(-norm_quant), format=\"html\",\n      caption=\"Top 3 Game Categories by Quantity\") %>%\n  row_spec(c(seq(1,12,by=3)), bold=TRUE, background=\"lightyellow\") %>%\n  row_spec(0, bold=TRUE) %>%\n  kable_classic_2(html_font=\"Garamond\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic-2\" style=\"font-family: Garamond; margin-left: auto; margin-right: auto;\">\n<caption>Top 3 Game Categories by Quantity</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;font-weight: bold;\"> Designer </th>\n   <th style=\"text-align:left;font-weight: bold;\"> Game Category </th>\n   <th style=\"text-align:right;font-weight: bold;\"> Quantity </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightyellow !important;\"> Reiner Knizia </td>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightyellow !important;\"> Card Game </td>\n   <td style=\"text-align:right;font-weight: bold;background-color: lightyellow !important;\"> 120 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Reiner Knizia </td>\n   <td style=\"text-align:left;\"> Childrens Game </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Reiner Knizia </td>\n   <td style=\"text-align:left;\"> Abstract Strategy </td>\n   <td style=\"text-align:right;\"> 40 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightyellow !important;\"> Martin Wallace </td>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightyellow !important;\"> Economic </td>\n   <td style=\"text-align:right;font-weight: bold;background-color: lightyellow !important;\"> 17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Martin Wallace </td>\n   <td style=\"text-align:left;\"> Fighting </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Martin Wallace </td>\n   <td style=\"text-align:left;\"> Card Game </td>\n   <td style=\"text-align:right;\"> 15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightyellow !important;\"> Eric M. Lang </td>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightyellow !important;\"> Fighting </td>\n   <td style=\"text-align:right;font-weight: bold;background-color: lightyellow !important;\"> 32 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Eric M. Lang </td>\n   <td style=\"text-align:left;\"> Fantasy </td>\n   <td style=\"text-align:right;\"> 29 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Eric M. Lang </td>\n   <td style=\"text-align:left;\"> Collectible Components </td>\n   <td style=\"text-align:right;\"> 26 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightyellow !important;\"> Dean Essig </td>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightyellow !important;\"> Wargame </td>\n   <td style=\"text-align:right;font-weight: bold;background-color: lightyellow !important;\"> 78 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Dean Essig </td>\n   <td style=\"text-align:left;\"> World War II </td>\n   <td style=\"text-align:right;\"> 48 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Dean Essig </td>\n   <td style=\"text-align:left;\"> American Civil War </td>\n   <td style=\"text-align:right;\"> 18 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Game Category & Mechanic Analysis\n\nIn this section, I switched my focus to look at popular game categories and mechanics, using the number of 'owned' games as the metric to evaluate the popularity of a game.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Most owned games data cleaning\nowned_games <- games %>%\n  dplyr::group_by(id, primary) %>%\n  dplyr::summarise(owned=sum(owned)) %>%\n  dplyr::arrange(desc(owned)) %>%\n  dplyr::ungroup() %>%\n  dplyr::left_join(y=games %>% select(id, yearpublished, category, average, designer), by=\"id\")\n```\n:::\n\n\n**What are some of the most owned games?**\n\nHere, we show the details of top 15 most owned games since the 1990. Interestingly, Catan[@catan], which is a strategy-based game, is the only game developed in the 1990s that made the top 15.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntb_owned <- owned_games %>%\n  dplyr::slice_head(n=15) %>%\n  dplyr::select(-id) %>%\n  dplyr::mutate(across(category:designer, ~ gsub(\"'\", \"\", .))) %>%\n  dplyr::mutate(across(category:designer, ~ gsub(\";\", \"; \", .)))\n\ncolnames(tb_owned) <- c(\"Game\", \"Owned\", \"Year\", \"Category\", \"Rating\", \"Designer\")\n\nkable(tb_owned, format=\"html\",\n      caption=\"Top 15 Games (by # of People Owned) since the 1990s\") %>%\n  row_spec(c(2), bold=TRUE, background=\"lightpink\") %>% \n  row_spec(0, bold=TRUE) %>%\n  kableExtra::kable_styling(bootstrap_options = c(\"hover\", \"condensed\",\"responsive\"))\n```\n\n::: {.cell-output-display}\n<table class=\"table table-hover table-condensed table-responsive\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 15 Games (by # of People Owned) since the 1990s</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;font-weight: bold;\"> Game </th>\n   <th style=\"text-align:right;font-weight: bold;\"> Owned </th>\n   <th style=\"text-align:right;font-weight: bold;\"> Year </th>\n   <th style=\"text-align:left;font-weight: bold;\"> Category </th>\n   <th style=\"text-align:left;font-weight: bold;\"> Rating </th>\n   <th style=\"text-align:left;font-weight: bold;\"> Designer </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Pandemic </td>\n   <td style=\"text-align:right;\"> 168364 </td>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:left;\"> Medical </td>\n   <td style=\"text-align:left;\"> 7.59 </td>\n   <td style=\"text-align:left;\"> Matt Leacock </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightpink !important;\"> Catan </td>\n   <td style=\"text-align:right;font-weight: bold;background-color: lightpink !important;\"> 167733 </td>\n   <td style=\"text-align:right;font-weight: bold;background-color: lightpink !important;\"> 1995 </td>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightpink !important;\"> Economic; Negotiation </td>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightpink !important;\"> 7.14 </td>\n   <td style=\"text-align:left;font-weight: bold;background-color: lightpink !important;\"> Klaus Teuber </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Carcassonne </td>\n   <td style=\"text-align:right;\"> 161299 </td>\n   <td style=\"text-align:right;\"> 2000 </td>\n   <td style=\"text-align:left;\"> City Building; Medieval; Territory Building </td>\n   <td style=\"text-align:left;\"> 7.42 </td>\n   <td style=\"text-align:left;\"> Klaus-Jürgen Wrede </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 7 Wonders </td>\n   <td style=\"text-align:right;\"> 120466 </td>\n   <td style=\"text-align:right;\"> 2010 </td>\n   <td style=\"text-align:left;\"> Ancient; Card Game; City Building; Civilization; Economic </td>\n   <td style=\"text-align:left;\"> 7.74 </td>\n   <td style=\"text-align:left;\"> Antoine Bauza </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Codenames </td>\n   <td style=\"text-align:right;\"> 119753 </td>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:left;\"> Card Game; Deduction; Party Game; Spies/Secret Agents; Word Game </td>\n   <td style=\"text-align:left;\"> 7.6 </td>\n   <td style=\"text-align:left;\"> Vlaada Chvátil </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 7 Wonders Duel </td>\n   <td style=\"text-align:right;\"> 111275 </td>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:left;\"> Ancient; Card Game; City Building; Civilization; Economic </td>\n   <td style=\"text-align:left;\"> 8.11 </td>\n   <td style=\"text-align:left;\"> Antoine Bauza; Bruno Cathala </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Dominion </td>\n   <td style=\"text-align:right;\"> 106956 </td>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:left;\"> Card Game; Medieval </td>\n   <td style=\"text-align:left;\"> 7.61 </td>\n   <td style=\"text-align:left;\"> Donald X. Vaccarino </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ticket to Ride </td>\n   <td style=\"text-align:right;\"> 105748 </td>\n   <td style=\"text-align:right;\"> 2004 </td>\n   <td style=\"text-align:left;\"> Trains </td>\n   <td style=\"text-align:left;\"> 7.41 </td>\n   <td style=\"text-align:left;\"> Alan R. Moon </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Terraforming Mars </td>\n   <td style=\"text-align:right;\"> 101872 </td>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:left;\"> Economic; Environmental; Industry / Manufacturing; Science Fiction; Space Exploration; Territory Building </td>\n   <td style=\"text-align:left;\"> 8.42 </td>\n   <td style=\"text-align:left;\"> Jacob Fryxelius </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Love Letter </td>\n   <td style=\"text-align:right;\"> 98395 </td>\n   <td style=\"text-align:right;\"> 2012 </td>\n   <td style=\"text-align:left;\"> Card Game; Deduction; Renaissance </td>\n   <td style=\"text-align:left;\"> 7.23 </td>\n   <td style=\"text-align:left;\"> Seiji Kanai </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Azul </td>\n   <td style=\"text-align:right;\"> 95533 </td>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:left;\"> Abstract Strategy; Puzzle; Renaissance </td>\n   <td style=\"text-align:left;\"> 7.8 </td>\n   <td style=\"text-align:left;\"> Michael Kiesling </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Splendor </td>\n   <td style=\"text-align:right;\"> 92366 </td>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:left;\"> Card Game; Economic; Renaissance </td>\n   <td style=\"text-align:left;\"> 7.44 </td>\n   <td style=\"text-align:left;\"> Marc André </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ticket to Ride: Europe </td>\n   <td style=\"text-align:right;\"> 92203 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:left;\"> Trains </td>\n   <td style=\"text-align:left;\"> 7.54 </td>\n   <td style=\"text-align:left;\"> Alan R. Moon </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> King of Tokyo </td>\n   <td style=\"text-align:right;\"> 88090 </td>\n   <td style=\"text-align:right;\"> 2011 </td>\n   <td style=\"text-align:left;\"> Dice; Fighting; Movies / TV / Radio theme; Science Fiction </td>\n   <td style=\"text-align:left;\"> 7.17 </td>\n   <td style=\"text-align:left;\"> Richard Garfield </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Small World </td>\n   <td style=\"text-align:right;\"> 86452 </td>\n   <td style=\"text-align:right;\"> 2009 </td>\n   <td style=\"text-align:left;\"> Fantasy; Fighting; Territory Building </td>\n   <td style=\"text-align:left;\"> 7.25 </td>\n   <td style=\"text-align:left;\"> Philippe Keyaerts </td>\n  </tr>\n</tbody>\n</table>\n\n\n\nTable 1. Top 15 most owned games (1990-2023).\n:::\n:::\n\n\n::: callout-tip\nThese designers, while might not be as prolific, are also considered one of the best, as they created some of the most successful board games.\n:::\n\n**Association between owned status and game rating?**\n\nWe see that these top-selling games are also highly rated, so I wonder, is there any correlation between \\# of people owning the games and their rating?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=owned_games %>% filter(owned>=100), aes(x=owned, y=average)) +\n  geom_hex(bins=45) +\n  scale_fill_viridis_c(option=\"D\") +\n  geom_smooth(stat=\"smooth\", color=\"red\") +\n  scale_x_log10() +\n  theme_bw() +\n  labs(x = \"Number of People Owning the Game\",\n       y = \"Rating of the Game\",\n       title = \"Game Rating vs. Number of People Owning the Game\",\n       subtitle = \"A potential positive association is found, though many games cluster around \\nrating = 6-7 and # owned = between 100~1000.\",\n       caption = \"Only games owned by at least 100 people are included in the analysis.\") +\n  theme(plot.title = element_text(size=21, face=\"bold\"),\n        plot.subtitle = element_text(size=16),\n        plot.caption = element_text(size=12, face=\"bold\"),\n        axis.title.x = element_text(size=18, face=\"bold\"),\n        axis.title.y = element_text(size=18, face=\"bold\"),\n        axis.text = element_text(size=15))\n```\n\n::: {.cell-output-display}\n![Fig 7. Association of rating vs. owned status.](analysis_files/figure-html/unnamed-chunk-14-1.png){width=864}\n:::\n:::\n\n\nWe see a slight positive trend, though more investigation is needed to elucidate the exact relationship.\n\n**What game categories are popular in each year?**\n\nNext, I assess popular game categories in each year.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngames_category <- games %>%\n  separate_rows(category, sep = \";\\\\s*\") %>%\n  dplyr::group_by(yearpublished, category) %>%\n  dplyr::summarise(count=n()) %>%\n  dplyr::arrange(yearpublished, desc(count)) %>%\n  dplyr::slice_head(n=3) %>%\n  dplyr::mutate(category=gsub(\"^'(.+)'$|^\\\"(.+)\\\"$\", \"\\\\1\\\\2\", category))\n```\n:::\n\n\nHere, we see that card games are extremely popular ever since the 90s. Dice and fantasy games are also growing in popularity in recent years.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npal = c(\"#2F4F4F\",\"#CE5FA7\",\"#DBD4D4\",\"#DE1818\",\"#023DCF\", \n            \"#D580FF\", \"#FFD900\",\"#6B00C2\",\"#00407F\",\n            \"#66E0FF\",\"#B03B56\",\"#90EE90\",\"#A4918C\",\n            \"#3BA500\",\"#000000\")\n\nggplot(games_category , aes(x=yearpublished, y=count, fill=category)) +\n  geom_bar(stat=\"identity\") +\n  labs(title=\"Top 3 Game Categories by Year\", \n       x=\"Years\",\n       y=\"Frequency\",\n       subtitle=\"Card game is by far the most popular game category over the years.\",\n       caption=\"Some games are associated with multiple categories.\") +\n  theme_minimal() +\n  scale_fill_manual(values=pal) +\n  theme(legend.text = element_text(size=10),\n        legend.title = element_text(size=14),\n        plot.title = element_text(size=19, face=\"bold\"),\n        plot.subtitle = element_text(size=12),\n        plot.caption = element_text(size=9, face=\"bold\"),\n        axis.title = element_text(size=14, face=\"bold\"),\n        axis.text = element_text(size=10)) +\n   guides(fill=guide_legend(title=\"Category\",keyheight=1, keywidth=1,ncol=1))\n```\n\n::: {.cell-output-display}\n![Fig 8. Trends of top 3 game categories over time (1990-2023).](analysis_files/figure-html/unnamed-chunk-16-1.png){width=960}\n:::\n:::\n\n\nWe can also see some interesting trends here that the 90s popular game categories are more associated with wars, potentially a result of the cold war that ended in 1991.\n\n**What game mechanics are popular in each year?**\n\nSimilarly, we look at popular game mechanics. That is, the mode of the board game or how it is played.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngames_mechanic <- games %>%\n  separate_rows(mechanic, sep = \";\\\\s*\") %>%\n  dplyr::filter(!is.na(mechanic)) %>%\n  dplyr::group_by(yearpublished, mechanic) %>%\n  dplyr::summarise(count=n()) %>%\n  dplyr::arrange(yearpublished, desc(count)) %>%\n  dplyr::slice_head(n=3) %>%\n  dplyr::mutate(mechanic=gsub(\"^'(.+)'$|^\\\"(.+)\\\"$\", \"\\\\1\\\\2\", mechanic))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npal = c(\"#2F4F4F\",\"#CE5FA7\",\"#023DCF\",\"#A4918C\",\"#ADD8E6\", \n            \"#FFA07A\", \"#FFD700\",\"#6B00C2\",\"#DDA0DD\",\n            \"#66E0FF\",\"#B03B56\",\"#DE1818\",\"#3BA500\",\n            \"#EEE8AA\",\"#000000\")\n\nggplot(games_mechanic , aes(x=yearpublished, y=count, fill=mechanic)) +\n  geom_bar(stat=\"identity\") +\n  labs(title=\"Top 3 Game Mechanics by Year\", \n       x=\"Years\",\n       y=\"Frequency\",\n       subtitle=\"Dice rolling, hand management, and variable player power games are popular game mechanics.\",\n       caption=\"Some games are associated with multiple mechanics.\") +\n  theme_minimal() +\n  scale_fill_manual(values=pal) +\n  theme(legend.text = element_text(size=10),\n        legend.title = element_text(size=14),\n        plot.title = element_text(size=19, face=\"bold\"),\n        plot.subtitle = element_text(size=12),\n        plot.caption = element_text(size=9, face=\"bold\"),\n        axis.title = element_text(size=14, face=\"bold\"),\n        axis.text = element_text(size=10)) +\n   guides(fill=guide_legend(title=\"mechanic\",keyheight=1, keywidth=1,ncol=1))\n```\n\n::: {.cell-output-display}\n![Fig 9. Trends of top 3 game mechanics over time (1990-2023).](analysis_files/figure-html/unnamed-chunk-18-1.png){width=960}\n:::\n:::\n\n\nWe observed that dice rolling, hand management, and variable player power games are very popular.\n\n# Summary\n\nIn this example analysis, we explored the board game dataset to identify some of the best board game designers, based on quantity, rating, consistency, trends, owned status. We listed out a few of the best designers, including Reiner Knizia, Dean Essig, Eric M. Lang, Martin Wallace, & Matt Leacock. We also identified the top three most popular game categories and mechanics, such as card game and dice rolling, respectively. Overall, we observed a positive trend of game ratings and quantity and expected the board game market to grow as projected.\n\n# Functions Used\n\n**dplyr:** mutate, filter, group_by, summarise, arrange, rename, select, left_join, rename_with, slice_head, ungroup, distinct, anti_join\n\n**tidyr:** separate_rows\n\n**ggplot2:** geom_bar, geom_col, geom_boxplot, geom_point, geom_smooth, geom_hex, facet_wrap\n\n::: {#bibliography}\n:::\n",
    "supporting": [
      "analysis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}